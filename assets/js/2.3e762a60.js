(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{413:function(t,s,n){t.exports=n.p+"assets/img/build-completed.37b53845.png"},414:function(t,s,n){t.exports=n.p+"assets/img/build-legacy.c5bc3be2.png"},415:function(t,s,n){t.exports=n.p+"assets/img/build-preprocess.209402b8.png"},416:function(t,s,n){t.exports=n.p+"assets/img/build-info-index.caf8f56a.png"},417:function(t,s,n){t.exports=n.p+"assets/img/build-info-router.ce219a5d.png"},418:function(t,s,n){t.exports=n.p+"assets/img/build-command-stage.f485f325.png"},419:function(t,s,n){t.exports=n.p+"assets/img/build-command-deploy.471d6c91.png"},440:function(t,s,n){"use strict";n.r(s);var a=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手","aria-hidden":"true"}},[this._v("#")]),this._v(" 快速上手")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境准备","aria-hidden":"true"}},[this._v("#")]),this._v(" 环境准备")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("构建工具 ut-builder 依赖 "),s("strong",[this._v("8.3.0")]),this._v(" 以上版本的 node 运行环境。\n因为从这一版本开始， node 运行环境提供了较完善的解构语法支持。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("早期 1.x.x 版本的 ut-builder 最低是支持到 8.0.0 版本 node 的，由于此版本 node 的解构语法支持不完善，\n又不想使用转译，写代码太难受，所以从 2.x.x 起就要求 8.3.0 以上 node 版本了。 😂")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("如果你需要使用 @vue/cli 提供的脚手架来初始化创建工程的话，那么就需要安装至少 8.9.x 以上版本的 node。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 查看已安装的 node 版本")]),this._v("\nnode -v\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("相应地，在 node 环境下，你需要使用"),s("strong",[this._v("包管理器")]),this._v("来管理项目依赖。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 切换 npm 仓库源至国内镜像源，提升包下载速率")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("set")]),this._v(" registry https://registry.npm.taobao.org\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局安装 npm 仓库源管理工具 nrm")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i nrm -g\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看可用的镜像源")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nrm ls")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换到国内源")]),t._v("\nnrm use taobao\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"脚手架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#脚手架","aria-hidden":"true"}},[this._v("#")]),this._v(" 脚手架")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("ut-builder")]),this._v(" 本身并没有提供完整的脚手架工具，因为 @vue/cli 提供的脚手架已经足够好用了。甚至你还可以基于 @vue/cli 的配置，定制或开发自己喜欢的脚手架。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("首先我们需要 "),s("strong",[this._v("安装 vue 官方命令行构建工具")]),this._v("：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 老版本命令行工具会对新版工具造成影响")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果已安装过老版工具，你需要先卸载它")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm uninstall vue-cli -g")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局安装 @vue/cli 命令行构建工具")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i @vue/cli -g\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 在合适的工作目录下，创建一个名为 hello-world 的项目")]),this._v("\nvue create hello-world\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("icefox "),s("strong",[this._v("内置的主题样式是基于 Less 预编译样式语言")]),this._v("的，这里我们推荐你在选择样式预处理器(CSS Pre-processors)时，将 "),s("strong",[this._v("Less")]),this._v(" 选上。\n其他一些特性，比如 Babel、Linter / Formatter、Router、Vuex，一般都是需要的了。\n代码风格配置选项里，ESLint + Prettier 的组合还不错。最后将配置文件单独外置，在需要以编程方式进行配置时将会更加便利。")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入到示例项目根目录")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" hello-world\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加 ut-builder 插件")]),t._v("\nvue "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" ut-builder\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者直接使用 npm 安装开发依赖（注意依赖名称与上面的不同）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm i vue-cli-plugin-ut-builder -D")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 启动开发服务器")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" run serve\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(413),alt:"构建成功"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("2.x.x 以上版本的 ut-builder 在运行后会默认将 icefox 添加进 package.json 的依赖声明中，\n这是因为 icefox 为内置的组件提供了声明文件，以便在 IDE（如：WebStorm）中获取编辑器智能提示的能力，而前提是需要将包添加进项目依赖声明中。\n另外，deploy、stage 两个 npm 脚本命令也会被添加进 package.json 中。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用-icefox-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-icefox-组件","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 icefox 组件")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AsideMenu "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icefox'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyComponent'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  components"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AsideMenu "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("另外一种是以 "),s("strong",[this._v("vue 插件")]),this._v(" 的形式全局安装 icefox 下的所有组件。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" icefox "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icefox'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 安装vue插件")]),t._v("\nVue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("icefox"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--  在单文件组件模板中使用 icefox 组件，组件名都以 ice- 前缀开头 --\x3e")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ice-aside-menu")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("由于存在依赖关系，以 vue 插件的形式安装 icefox 时，element-ui 默认也会作为插件被安装。\n导入 icefox 包的同时，element-ui 的主题样式文件也会被同步导入。\n换言之，如果以 vue 插件形式安装 icefox 后，你不需要再安装 element-ui 和导入其主题样式了。")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("aside-menu")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":menu-items")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("default-active")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("id_2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("200px")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AsideMenu "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icefox'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyComponent'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  components"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AsideMenu "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id_1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'菜单项一'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sub'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'子菜单'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id_2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'菜单项二'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("事实上，"),s("strong",[this._v("icefox 大部分组件都是对其他基础组件的高阶封装")]),this._v("，目前我们是基于 element-ui 来封装的，\n当然也可以封装其他组件库的基础组件了，但目前我们并未打算这样去做。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你熟悉了 element-ui 的使用，那么大部分 icefox 组件你也就会用了。高阶意味着属性继承，换言之，"),s("strong",[this._v("原有组件的属性及行为都会得以保留")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("icefox")]),this._v(" 自己也实现了一些很不错的组件，机会留给以后，这里我们就不做过多的探讨了，下面我们可以去看看另外一些有意思的地方。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"约定式路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#约定式路由","aria-hidden":"true"}},[this._v("#")]),this._v(" 约定式路由")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v(".\n├── node_modules                // 模块依赖安装目录\n├── public                      // 公共资源文件目录\n│   ├── favicon.ico\n│   └── index.html              // 页面模板\n├── src                         // 源码及资源目录\n│   ├── assets                  // 引用静态资源目录\n│   │   └── logo.png\n│   ├── components              // 模块组件目录\n│   │   └── HelloWorld.vue      // 模块组件\n│   ├── views                   // 页面路由组件目录\n│   │   ├── About.vue           // 路由组件\n│   │   └── Home.vue\n│   ├── App.vue                 // 路由根出口组件\n│   ├── main.js                 // 应用初始化文件\n│   ├── router.js               // 页面路由定义文件\n│   └── store.js                // 应用状态定义文件\n├── .browserslistrc             // 浏览器兼容声明文件\n├── .eslintrc.js                // 代码风格检查定义文件\n├── .gitignore\n├── README.md\n├── babel.config.js             // babel配置文件\n├── package-lock.json\n├── package.json\n└── postcss.config.js           // postcss配置文件\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这是一个典型的 "),s("strong",[this._v("单页应用(SPA)")]),this._v(" 项目结构。ut-builder 能够很好的支持这种结构形式的项目构建。\n从控制台构建输出也能看到一些关键信息：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(414),alt:"普通构建模式"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("启用约定式路由后，应用的初始化会被 icefox 框架接管")]),this._v("，而我们也需要对现有的一些文件进行调整修改。\n修改后的项目资源结构如下（注意 "),s("strong",[this._v("...")]),this._v(" 部分表示版面省略而非删除了）：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v(".\n├── ...\n├── src\n│   ├── assets\n│   │   └── logo.png\n│   ├── components\n│   │   └── HelloWorld.vue\n│   ├── views                   // 页面路由组件目录\n│   │   ├── About.route.vue\n│   │   └── Home.route.vue\n│   ├── App.vue                 // 路由根出口组件\n│   └── main.js                 // 应用初始化文件\n├── ...\n└── vue.config.js               // 构建配置文件\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("需要说明下的是，"),s("strong",[this._v("特定后缀名")]),this._v("是为了让构建工具能够区分出那些路由组件，并生成对应的路由配置。\n另外基于特定后缀名称也能很直观的知道哪些是路由组件，哪些是非路由组件。\n如果你不喜欢这样的设定，后缀名也是可配置的，你甚至可以将其配置成 "),s("strong",[this._v(".vue")]),this._v("，那么该目录下所有的单文件组件都会被当成路由组件来对待了。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("接下来，我们还需要修改下 "),s("strong",[this._v("main.js")]),this._v(" 文件的内容。下面是个参考：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" icefox "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icefox'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" requestPluginOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  baseParams"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    baseUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  headers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'网站标题'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 应用创建完成后的回调")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  plugins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将icefox作为应用插件使用")]),t._v("\n    icefox"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对内置的request插件进行配置")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" requestPluginOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue-router 配置对象")]),t._v("\n    mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hash'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*router*/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 路由器创建完成后的回调")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vuex Store 配置对象")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*store*/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Store创建完成后的回调")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("现在我们暂时不需要了解 "),n("strong",[t._v("main.js")]),t._v(" 内容的具体细节，后面我们会有专门的文档来说明。\n从代码我们可以看出，Vue "),n("strong",[t._v("插件的安装")]),t._v("，以及 "),n("strong",[t._v("Router")]),t._v("、"),n("strong",[t._v("Store")]),t._v("、"),n("strong",[t._v("App")]),t._v(" 的实例化，都是由框架来接管的了。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("现在我们还需要更改构建配置文件，并启用代码自动生成以及 App 框架能力。这是在 "),s("strong",[this._v("vue.config.js")]),this._v(" 配置文件里通过 "),s("code",[this._v("preprocess")]),this._v(" 配置项来声明的。\n下面是个参考：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  pluginOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    preprocess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启用代码预处理")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("重新运行构建命令 "),s("code",[this._v("npm run serve")]),this._v("，不出意外的话，你应该会看到类似下面这样的控制台输出：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(415),alt:"预处理构建输出"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("而浏览器网页地址栏却变成了 "),s("code",[this._v("localhost:8080/#/404")]),this._v("，且示例的 Home 页面路由("),s("code",[this._v("/")]),this._v(") 也没有正常显示。\n不要着急，我们还需要进行一些小的调整才能使得页面显示正常。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(416),alt:"构建提示"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("意思是需要在 "),s("code",[this._v("src/views")]),this._v(" 目录下添加一个 "),s("code",[this._v("index.route.vue")]),this._v(" 单文件组件。按照提示，我们新建一个组件试试。\n组件模板内容任你喜欢好了。建好后，我们再把浏览器地址更改为 "),s("code",[this._v("localhost:8080/#/")]),this._v("，是不是已经看到你刚刚创建的内容了？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这里，我们知道了，在一个目录下面，命名为 "),s("code",[this._v("index.route.vue")]),this._v(" 的单文件组件，会被当作该目录路径下的路由( "),s("code",[this._v("Layout")]),this._v(" )组件。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("你也可以接着往 "),s("code",[this._v("src/views")]),this._v(" 目录下添加更多的单文件组件（路由组件文件名称以 "),s("code",[this._v(".route.vue")]),this._v(" 结尾）或嵌套目录。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("src/views\n├── user\n│   ├── vip\n│   │   └── index.route.vue\n│   ├── boo.vue\n│   ├── detail.route.vue\n│   └── index.route.vue\n├── About.route.vue\n├── Home.route.vue\n├── Normal.vue\n└── index.route.vue\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("打开浏览器(Chrome)开发者工具，通过快捷键("),n("code",[t._v("⌘ P")]),t._v(" 或 "),n("code",[t._v("Ctrl P")]),t._v(")打开资源搜索栏，键入 "),n("code",[t._v(".code/index")]),t._v("搜索，即可找到生成的路由配置代码文件。\n在项目的 "),n("code",[t._v("node_modules/.code")]),t._v(" 目录下，你也可以找到这一代码文件。")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hash'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  base"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  routes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/views/index.route.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" compIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mapRouteParamsToProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/views/user/index.route.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" compUserIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mapRouteParamsToProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/views/user/detail.route.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user/detail'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'detail'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" compUserDetail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mapRouteParamsToProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/views/user/vip/index.route.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user/vip'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vip'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" compUserVipIndex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mapRouteParamsToProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/views/About.route.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'About'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/about'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" compAbout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mapRouteParamsToProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/views/Home.route.vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Home'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" compHome"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mapRouteParamsToProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(417),alt:"构建路由提示"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("正如你所看到的那样，创建或更新路由组件文件后，构建工具会自动生成新的代码，并作出相应的提示。\n这一过程中你也不需要重新启动构建。\nut-builder 提供了 "),s("code",[this._v("3")]),this._v(" 种模式来生成路由代码，并完善支持动态参数路由、命名路由以及嵌套子路由。\n这里我们不作过多的展开，后面会有专门的文档。如果你想再多尝试几下的话，这里有一些提示也许能帮到你：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[n("code",[t._v("preprocess")]),t._v(" 配置项可使用对象传参，属性 "),n("code",[t._v("appNestedRoutes")]),t._v(" 可指定嵌套模式， 有 3 个枚举值，分别为 "),n("code",[t._v("auto")]),t._v("、"),n("code",[t._v("manual")]),t._v("、"),n("code",[t._v("none")]),t._v("。\n默认为 "),n("code",[t._v("auto")]),t._v(" 模式。"),n("code",[t._v("manual")]),t._v(" 模式下，目录名称以"),n("code",[t._v("[]")]),t._v("包裹的，表示需要生成嵌套子路由。任意模式下名称以 "),n("code",[t._v("~")]),t._v(" 开头的路由文件或目录，将会提升为根路由子节点。\n以 "),n("code",[t._v("@")]),t._v(" 开头的路由文件或目录，表示命名路由，而以 "),n("code",[t._v("_")]),t._v(" 开头的表示动态参数路由，动态参数路由以 "),n("code",[t._v("_")]),t._v(" 结尾表示可选参数。"),n("code",[t._v("@")]),t._v(" 和 "),n("code",[t._v("_")]),t._v(" 这两个符号可通过配置来变更。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("基于以上了解，我们就可以将示例的 "),s("code",[this._v("Home")]),this._v(" 组件对应的路由页面重新显示出来了，访问 "),s("code",[this._v("/home")]),this._v(" 路由即可。\n你也可以修正下示例 "),s("code",[this._v("src/App.vue")]),this._v(" 文件内的路由链接地址信息。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"接口请求与-mock"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接口请求与-mock","aria-hidden":"true"}},[this._v("#")]),this._v(" 接口请求与 Mock")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在组件中")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/xxx'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在非组件中")]),t._v("\nVue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/xxx'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 Store 的 actions 中")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("someAction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("call"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dispatch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/xxx'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们在示例项目的 "),s("code",[this._v("Home.route.vue")]),this._v(" 单文件组件里演示下发送请求的操作。这里我们模拟一个获取用户姓名并在页面上显示问候语的场景。\n先来作一些小的修改，添加一点请求服务端接口的逻辑：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-vue extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Vue logo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("../assets/logo.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("HelloWorld")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":msg")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @ is an alias to /src")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HelloWorld "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/components/HelloWorld.vue'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Home'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  components"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" HelloWorld "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Welcome!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送请求，加载用户信息")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`{baseUrl}/api/user/info`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新并显示问候语")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(", Welcome!`")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("访问 "),n("code",[t._v("/home")]),t._v(" 路由页面（以下均同），打开浏览器（"),n("strong",[t._v("Chrome")]),t._v("）的开发者工具，切换至 "),n("code",[t._v("Network")]),t._v(" 面板，我们可以看到地址为 "),n("code",[t._v("/api/user/info")]),t._v(" 的请求已经被浏览器发送了。\n因为没有合适的服务端接口，这里我们会看到一个状态码为 "),n("code",[t._v("404")]),t._v(" 的请求响应。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("也许你已经注意到了示例代码中的请求地址 "),n("code",[t._v("{baseUrl}/api/user/info")]),t._v("，其中包含一个 "),n("code",[t._v("{baseUrl}")]),t._v(" 的占位变量（"),n("strong",[t._v("注意占位变量前面并没有 ES6 模板字符串的 "),n("code",[t._v("$")]),t._v(" 引导符号")]),t._v("）。\n我们可以声明下这个占位变量的值。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你还记得前面 "),s("code",[this._v("main.js")]),this._v(" 示例代码的话，里面就有这个变量的声明，它是在内置的 HTTP 请求插件的配置对象属性 "),s("code",[this._v("baseParams")]),this._v(" 里定义的。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("变量名 "),n("code",[t._v("baseUrl")]),t._v(" 只是示例需要而已（注意区别 "),n("code",[t._v("axios")]),t._v(" 配置参数 "),n("code",[t._v("baseURL")]),t._v(" ），你可以定义成任何你喜欢的名称。实际上 "),n("code",[t._v("baseParams")]),t._v(" 是插件在 "),n("code",[t._v("axios")]),t._v(" 配置的基础上扩展出的配置项，\n它提供了一种便捷的方式来使用一些与请求相关的常量或参数值。你可以在请求地址里面方便的嵌入这些常量或参数值，而不需要频繁地在组件中通过模块导入的形式来引入这些值。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们可以给这个 "),s("code",[this._v("baseUrl")]),this._v(" 赋上远程服务器地址的值，例如："),s("code",[this._v("10.0.2.68:8088")]),this._v(" 。再次查看接口请求信息，你会发现请求服务器地址已经变更为刚刚配置的地址值。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("为了模拟服务端接口响应，我们接下来启用构建工具提供的接口 "),s("strong",[this._v("Mock 与代理")]),this._v(" 能力。启用方式也很便捷，在 "),s("code",[this._v("vue.config.js")]),this._v("\n配置文件的插件配置项里，声明 "),s("code",[this._v("mock")]),this._v(" 服务配置即可。下面是个参考：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  pluginOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    preprocess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      appNestedRoutes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auto'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建服务配置")]),t._v("\n    services"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      mock"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启用mock服务")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"warning custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("插件配置项名 "),n("code",[t._v("services")]),t._v(" 需要 "),n("code",[t._v("vue-cli-plugin-ut-builder")]),t._v(" 版本在 "),n("code",[t._v("2.1.4")]),t._v(" 以上。"),n("code",[t._v("低于 2.1.4")]),t._v(" 的版本，请使用 "),n("code",[t._v("service")]),t._v(" 。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("更新 "),s("code",[this._v("vue.config.js")]),this._v(" 配置文件，手动重启构建服务，等待构建完成后，刷新页面继续查看接口 "),s("code",[this._v("/api/user/info")]),this._v(" 的网络请求，你会发现请求服务器地址已经变更为本机地址。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("div",{staticClass:"highlighted"},[this._v(" ")]),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("mock\n├── api\n│   └── user.js\n├── mock.data.json\n└── mock.demo.js\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开 "),s("code",[this._v("api/user.js")]),this._v(" 文件，我们可以看到，构建工具早已帮我们创建好了接口响应声明（ "),s("code",[this._v("GET /api/user/info")]),this._v(" ）。\n因为后面会有专门的文档来讲解 Mock 模块的使用，这里我们先返回一些数据，好让页面能够正确获取到用户信息。下面是个参考：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Mock "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mockjs'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" delay "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" disabled "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接口响应定义")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET /api/user/info'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Mock"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@cname(2, 4)'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"warning custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("默认参数设定下，自动生成的 mock 模块中，"),n("code",[t._v("disabled")]),t._v(" 变量的值是为 "),n("code",[t._v("false")]),t._v(" 的。你需要将其改为 "),n("code",[t._v("true")]),t._v("，才会使得该 mock 模块生效。\n另外，这些默认设定也可以通过 mock 构建服务的配置参数来变更。如果启用了应用框架能力，mock 能力也会根据不同的构建模式与应用无缝衔接。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"发布预览与部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布预览与部署","aria-hidden":"true"}},[this._v("#")]),this._v(" 发布预览与部署")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在开发构建模式( "),s("code",[this._v("development")]),this._v(" )下，构建系统默认会开启一个开发服务器，来响应我们应用的资源访问以及热更新请求。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在产品构建模式( "),s("code",[this._v("production")]),this._v(" )下，为更好的了解应用的资源情况，以及验证待发布应用的正确性，ut-builder 提供了一个\n"),s("code",[this._v("stage")]),this._v(" 构建命令，用以实现待发布应用的资源预览。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 以产品模式构建应用，并开启一个Web应用服务器")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" run stage\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("运行 "),s("code",[this._v("stage")]),this._v(" 构建命令后，应用会以产品模式进行构建，并在构建结束后开启一个应用服务器。\n通过应用服务器，我们可以直接访问应用的页面，也可以在特定的资源路径下查看应用的资源内容。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(418),alt:"资源预览"}})])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("应用服务器会结合构建参数，正确的执行资源访问代理。\n换言之，这里会考虑应用的 "),n("strong",[t._v("history")]),t._v(" 路由模式( "),n("code",[t._v("historyApiFallback")]),t._v(" )，以及资源部署路径为虚拟主机目录( "),n("code",[t._v("publicPath")]),t._v(" )的情况。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果需要将应用的资源发布到远程服务器上，一般情况下，我们会运用 "),s("strong",[this._v("ssh")]),this._v(" 工具，并配合 "),s("strong",[this._v("bash")]),this._v(" 命令脚本来完成此任务。\nut-builder 也提供了一个 "),s("code",[this._v("deploy")]),this._v(" 命令，用于交互式地部署应用资源到远程服务器的特定目录路径下。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 以产品模式构建应用，并交互式地部署应用至远程服务器(ssh)")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" run deploy\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(419),alt:"资源部署"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("部署命令在交互式部署过程中使用的 ssh 由纯 js 实现，这意味着非 Linux 内核系统（Windows）的电脑，也能够直接运行该命令。\n连接远程服务器时，除密码外，还可以使用公钥来进行登录验证。另外，也可以通过配置文件，实现无人干预的自动化部署。")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看所有可用的构建命令")]),t._v("\nnpx vue-cli-service "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看具体命令的可用选项")]),t._v("\nnpx vue-cli-service "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看stage命令的可用选项")]),t._v("\nnpx vue-cli-service "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v(" stage\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看deploy命令的可用选项")]),t._v("\nnpx vue-cli-service "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v(" deploy\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("注："),s("code",[this._v("npx")]),this._v(" 命令需要安装 "),s("strong",[this._v("5.2")]),this._v(" 以上版本的 "),s("strong",[this._v("npm")]),this._v(" 。")])}],e=n(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("p",[t._v("以下名称 "),n("strong",[t._v("ut-builder")]),t._v(" 均指构建工具 "),n("a",{attrs:{href:"https://www.npmjs.com/package/vue-cli-plugin-ut-builder",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli-plugin-ut-builder"),n("OutboundLink")],1),t._v("，\n其本质上是 "),n("a",{attrs:{href:"https://cli.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vue/cli"),n("OutboundLink")],1),t._v(" 的插件。")]),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("首先，你需要安装 "),n("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),n("OutboundLink")],1),t._v(" 运行环境。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),n("p",[t._v("开发环境下，推荐尽量安装最新 "),n("strong",[t._v("LTS")]),t._v(" 版本的 "),n("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("node"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("另外，你还可以使用 "),n("a",{attrs:{href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm"),n("OutboundLink")],1),t._v("\n或 "),n("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm-windows"),n("OutboundLink")],1),t._v(" 来管理你本地的 node 版本。")]),t._v(" "),t._m(5),t._m(6),t._v(" "),n("p",[t._v("你可以使用 "),n("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm"),n("OutboundLink")],1),t._v(" 或者 "),n("a",{attrs:{href:"https://www.yarnpkg.com/zh-Hans/",target:"_blank",rel:"noopener noreferrer"}},[t._v("yarn"),n("OutboundLink")],1),t._v(" 来管理你的依赖包。\n"),n("strong",[t._v("这里的示例都将以 npm 作为包管理器")]),t._v("。")]),t._v(" "),n("p",[t._v("为提升安装效率，你还需要切换下包管理器默认的下载仓库源。")]),t._v(" "),t._m(7),n("p",[t._v("如果你需要频繁切换不同的源，"),n("a",{attrs:{href:"https://github.com/Pana/nrm",target:"_blank",rel:"noopener noreferrer"}},[t._v("nrm"),n("OutboundLink")],1),t._v("("),n("strong",[t._v("npm registry manager")]),t._v(") 会是一个不错的工具。")]),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),n("p",[t._v("另外，"),n("router-link",{attrs:{to:"./introduce.html#构建工具"}},[t._v("前面")]),t._v(" 我们也了解到，ut-builder 本身就是一个 @vue/cli 插件。\n所以，你可以"),n("strong",[t._v("先使用 @vue/cli 初始化创建工程，然后再添加 "),n("a",{attrs:{href:"https://www.npmjs.com/package/vue-cli-plugin-ut-builder",target:"_blank",rel:"noopener noreferrer"}},[t._v("ut-builder"),n("OutboundLink")],1),t._v(" 插件")]),t._v("。")],1),t._v(" "),n("p",[t._v("如果你只想单独使用 ut-builder 这个插件也是可以的，甚至你还可以只使用 icefox 包里面的一些组件。\n后面我们会提一些需要注意的地方，但在这里，推荐你按照下面的示例，先创建一个完整的示例项目。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),n("p",[t._v("你也可以在 "),n("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),n("OutboundLink")],1),t._v(" 了解下 vue 官方关于命令行构建工具的安装说明。")]),t._v(" "),n("p",[t._v("接下来我们创建一个示例项目：")]),t._v(" "),t._m(13),n("p",[t._v("交互式命令行会提示你选择一些构建特性，你可以根据你的需要来选择，然后脚手架就会帮我们创建好项目的基本结构了。")]),t._v(" "),t._m(14),t._v(" "),n("p",[n("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/creating-a-project.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),n("OutboundLink")],1),t._v(" 是 vue 官方使用命令行工具创建项目的详细示例，有兴趣的话你也可以过去瞧瞧。")]),t._v(" "),n("p",[t._v("创建好项目后，我们还需要添加下 "),n("a",{attrs:{href:"https://github.com/icesjs/vue-cli-builder#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("ut-builder"),n("OutboundLink")],1),t._v(" 插件。\n在安装插件前，推荐你先看一下 vue 官方关于 "),n("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/plugins-and-presets.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("命令行工具插件"),n("OutboundLink")],1),t._v(" 的说明，\n当然往后你再去了解也是可以的。")]),t._v(" "),t._m(15),n("p",[t._v("安装完成后，就可以运行命令，看看效果了。")]),t._v(" "),t._m(16),n("p",[t._v("如果没有遇到错误的话，你应该会看到类似下面这样的控制台输出，这里我们也暂且不需要了解这些输出项的意义。")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),n("div",{staticClass:"warning custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("虽然你还可以安装其他的 @vue/cli 插件来丰富项目的构建能力，但这里其实是不太推荐你安装过多的其他插件的。\n这是因为构建是个复杂的事情，ut-builder 本身已经实现了很多常用的构建特性，也会尽最大的努力来保证构建的稳定性。\n另外，原则上 ut-builder 严格在 "),n("a",{attrs:{href:"https://cli.vuejs.org/zh/config/",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vue/cli 配置"),n("OutboundLink")],1),t._v(" 的基础上做增强，换言之你可以自己定义一些基础配置，\nut-builder 会考虑到用户自己的配置并做相应增强。其他命令行插件的构建行为也有可能会与 ut-builder 的构建行为相冲突。")])]),t._v(" "),n("p",[n("strong",[t._v("ut-builder")]),t._v(" 提供了较丰富的 "),n("router-link",{attrs:{to:"./../config/builder.html"}},[t._v("构建配置项")]),t._v("，能满足常用的 App 构建需求。这也是上面提到的，你可以把它 "),n("strong",[t._v("单独作为一个构建插件")]),t._v(" 来使用的原因。")],1),t._v(" "),n("p",[t._v("在这里，结合 icefox，我们看看还能多做一些什么。")]),t._v(" "),t._m(19),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/icesjs/icefox",target:"_blank",rel:"noopener noreferrer"}},[t._v("icefox"),n("OutboundLink")],1),t._v(" 提供了一些可快速搭建企业级中后台系统框架的组件和工具，其本身也依赖于 "),n("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("element-ui"),n("OutboundLink")],1),t._v(" 的一些基础组件。\n与 element-ui 类似，我们也有两种方式来使用 icefox 提供的组件。")]),t._v(" "),n("p",[t._v("一种是直接从 "),n("a",{attrs:{href:"https://www.npmjs.com/package/icefox",target:"_blank",rel:"noopener noreferrer"}},[t._v("icefox"),n("OutboundLink")],1),t._v(" 包里面导入需要的组件使用。")]),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._m(23),t._m(24),t._v(" "),n("p",[t._v("就像上面这样，我们可以把 icefox 里面的组件单独拿来使用，它表现得就像个第三方的组件包一样。")]),t._v(" "),n("p",[t._v("下面是个引用边栏菜单组件，并通过数据来生成菜单的例子：")]),t._v(" "),t._m(25),n("p",[t._v("运行结果：")]),t._v(" "),n("ice-aside-menu",{staticStyle:{width:"200px"},attrs:{"default-active":"id_2","menu-items":[{id:"id_1",title:"菜单项一"},{id:"sub",title:"子菜单",children:[{id:"id_2",title:"菜单项二"}]}]}}),t._v(" "),n("br"),t._v(" "),n("p",[t._v("是不是看起来还不错？实际上底层组件仍旧是 "),n("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/installation",target:"_blank",rel:"noopener noreferrer"}},[t._v("element-ui"),n("OutboundLink")],1),t._v("\n的 "),n("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/menu",target:"_blank",rel:"noopener noreferrer"}},[t._v("Menu"),n("OutboundLink")],1),t._v(" 组件，icefox 对其进行了"),n("strong",[t._v("高阶封装")]),t._v("，\n扩展了它的能力，也使得它更易于在项目中使用，还为它量身定制了一些主题样式，使得在项目中可以通过 Less 变量来定制一些风格。")]),t._v(" "),n("p",[t._v("如果你想去看一下代码，"),n("a",{attrs:{href:"https://github.com/icesjs/icefox/blob/master/lib/components/AsideMenu/AsideMenu.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("AsideMenu"),n("OutboundLink")],1),t._v(" 和\n"),n("a",{attrs:{href:"https://github.com/icesjs/icefox/blob/master/lib/components/Menu/ElementMenu.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("Menu"),n("OutboundLink")],1),t._v(" 这两个组件就是上面的实现了。")]),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),n("p",[t._v("约定式路由，即根据约定的目录结构和文件名称，自动生成路由配置代码及应用框架。如果你了解\n"),n("a",{attrs:{href:"https://zh.nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nuxt"),n("OutboundLink")],1),t._v(" 或 "),n("a",{attrs:{href:"https://umijs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("UmiJS"),n("OutboundLink")],1),t._v("，那就很容易明白了。他们也是这么干的。\n但这里并不是照搬他们的实现。")]),t._v(" "),n("p",[t._v("事实上，受这种思想的启发，我们觉得这是个不错的提效手段，但 Nuxt 偏向于服务端渲染，\nUmiJS 是 React 派系，而 icefox 趋向于辅助应用开发，并尽力帮助小伙伴们降低企业应用开发的门槛。")]),t._v(" "),n("p",[t._v("如果你不喜欢以这种方式来构建你的应用，那作为一个普通的构建插件和组件包，你也能用上一些东西。如果你很感兴趣，那么我们接下来就会了解更多了。")]),t._v(" "),n("p",[t._v("启用这个特性，需要开启 ut-builder 的一些配置项。在这之前，我们先来了解一下目前项目的基本结构。")]),t._v(" "),n("p",[t._v("如果你是使用 @vue/cli 脚手架初始化创建的项目，那么脚手架帮你生成的项目结构会类似下面这个样子：")]),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),n("p",[t._v("这里我们删除了 "),n("strong",[t._v("src")]),t._v(" 目录下面的 "),n("strong",[t._v("router.js")]),t._v(" 和 "),n("strong",[t._v("store.js")]),t._v(" 文件，也在"),n("strong",[t._v("项目根目录")]),t._v("下新建了一个 "),n("a",{attrs:{href:"https://cli.vuejs.org/zh/config/#vue-config-js",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue.config.js"),n("OutboundLink")],1),t._v(" 文件（如果没有的话）。\n另外，我们还修改了"),n("strong",[t._v("路由组件的文件后缀名称")]),t._v("，将 "),n("strong",[t._v(".vue")]),t._v(" 改为了 "),n("strong",[t._v(".route.vue")]),t._v("。")]),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),n("p",[t._v("你可能也已经注意到了，在构建控制台里会有一个提示内容：")]),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),n("p",[t._v("下面是一个随意添加的目录文件结构：")]),t._v(" "),t._m(48),t._m(49),t._v(" "),n("p",[t._v("根据以上目录文件结构，生成的路由配置代码如下：")]),t._v(" "),t._m(50),n("p",[t._v("其中一些变量是对导入组件的引用。另外，在构建控制台也会有以下提示内容：")]),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),n("p",[t._v("另外你也许会疑惑，基于 icefox 的应用框架，又该怎样引入 store.js 文件呢？这个在进阶的\n"),n("router-link",{attrs:{to:"./store-module.html"}},[t._v("Store 模块化")]),t._v(" 里面，我们会有专门的讲解。")],1),t._v(" "),t._m(55),t._v(" "),n("p",[t._v("我们的应用一般需要与后端服务进行交互，这就要用到远程请求了。icefox 的应用框架（"),n("strong",[t._v("需启用约定式路由")]),t._v("），基于\n"),n("a",{attrs:{href:"https://www.npmjs.com/package/axios",target:"_blank",rel:"noopener noreferrer"}},[t._v("axios"),n("OutboundLink")],1),t._v(" 封装了发送 HTTP 请求的能力，且作为一个插件默认被安装进了应用中。")]),t._v(" "),n("p",[t._v("你可以通过以下几种方式来调用请求插件：")]),t._v(" "),t._m(56),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("请求插件 "),n("code",[t._v("$http")]),t._v(" 是对 "),n("code",[t._v("axios")]),t._v(' 的"高阶"扩展封装，因此 '),n("code",[t._v("axios")]),t._v(" 的所有能力及使用方式，都可以被运用。换言之，如果你熟悉了 "),n("code",[t._v("axios")]),t._v(" 的使用方式，\n"),n("code",[t._v("$http")]),t._v(" 就是 "),n("code",[t._v("axios")]),t._v(' 的"别名"而已。但这并不是简单的引用，后面我们会有专门的文档说明。如果你对源码感兴趣的话，\n'),n("a",{attrs:{href:"https://github.com/icesjs/icefox/blob/master/lib/plugins/request.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("request"),n("OutboundLink")],1),t._v(" 插件正是这个封装的实现。")])]),t._v(" "),t._m(57),t._v(" "),t._m(58),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("我们在示例代码里面应用了 "),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function",target:"_blank",rel:"noopener noreferrer"}},[t._v("async/await"),n("OutboundLink")],1),t._v(" 语法。\n另外，在编写异步请求代码时，推荐大家都采用这种语法形式。")])]),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._m(66),t._v(" "),t._m(67),t._v(" "),n("p",[t._v("查看示例项目的根目录，可以看到有一个新的文件夹被自动创建了，其目录文件结构如下：")]),t._v(" "),t._m(68),t._m(69),t._v(" "),t._m(70),t._m(71),t._v(" "),n("p",[t._v("刷新页面试试，是不是已经能够看到页面上带称谓的问候语了？\n接下来你也可以尝试下禁用 mock，或者更改接口响应返回值，看看网页上的接口请求及响应会发生怎样的变化。")]),t._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[n("strong",[t._v("Mock")]),t._v(" 能力是 ut-builder 的特性之一。支持自动代理无缝衔接应用，可根据接口请求信息自动生成 mock 模块文件并定位至代码行，\n以及根据远程接口数据自动生成 "),n("a",{attrs:{href:"http://mockjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MockJS"),n("OutboundLink")],1),t._v(" 随机数据生成代码。mock 模块文件可使用 es6 语法，支持实时转译更新。\n可设置延时响应时长，也支持模块以及模块内单个接口的本地与远程响应实时切换。\n另外，对于 "),n("code",[t._v("WebSocket")]),t._v(" 的模拟，也提供了与构建无缝衔接的精美网页客户端应用，可手动或自动模拟 "),n("code",[t._v("socket")]),t._v(" 推送数据，\n并支持常见的浏览器端 "),n("code",[t._v("websocket")]),t._v(" 协议实现（websocket、sockjs、socket.io、STOMP）。")])]),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),n("p",[t._v("交互式终端部分输出内容如下：")]),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),n("p",[t._v("发布预览和部署命令提供了一种可能性来提升我们应用的发布效率。\n此外，这两个命令也提供了多个命令行参数，为多样化构建提供一定的支持。")]),t._v(" "),n("p",[t._v("你可以通过以下方式来获取帮助信息：")]),t._v(" "),t._m(83),t._m(84)],1)},a,!1,null,null,null);s.default=r.exports}}]);